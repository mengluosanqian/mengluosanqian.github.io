<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/18/nginx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/18/nginx/" class="post-title-link" itemprop="url">nginx</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-06-18 16:48:31 / Modified: 20:51:46" itemprop="dateCreated datePublished" datetime="2023-06-18T16:48:31+08:00">2023-06-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h1><h2 id="核心配置"><a href="#核心配置" class="headerlink" title="核心配置"></a>核心配置</h2><h3 id="配置文件结构"><a href="#配置文件结构" class="headerlink" title="配置文件结构"></a>配置文件结构</h3><p>Nginx的配置文件(conf&#x2F;nginx.conf)整体上分为如下几个部分:</p>
<table>
<thead>
<tr>
<th align="left">区域</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">全局块</td>
<td align="center">配置和nginx运行相关的全局配置</td>
</tr>
<tr>
<td align="left">events块</td>
<td align="center">配置和网络链接相关的配置</td>
</tr>
<tr>
<td align="left">http块</td>
<td align="center">配置代理、缓存、日志记录、虚拟主机等配置</td>
</tr>
<tr>
<td align="left">server块</td>
<td align="center">配置虚拟主机的相关参数，一个http块中可以有多个server块</td>
</tr>
<tr>
<td align="left">location块</td>
<td align="center">配置请求的路由，以及各种页面的处理情况</td>
</tr>
</tbody></table>
<p><a href="source%5Cimages%5Cnginx%E9%85%8D%E7%BD%AE%E5%B1%82%E7%BA%A7%E5%9B%BE.jpg">配置层级图</a></p>
<h3 id="实际代码"><a href="#实际代码" class="headerlink" title="实际代码"></a>实际代码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"># 以下是全局段配置</span><br><span class="line">#user administrator administrators;  #配置用户或者组，默认为nobody nobody。</span><br><span class="line">#worker_processes 2;  #设置进程数，默认为1</span><br><span class="line">#pid /nginx/pid/nginx.pid; #指定nginx进程运行文件存放地址</span><br><span class="line">error_log log/error.log debug;  #制定日志路径，级别：debug|info|notice|warn|error|crit|alert|emerg</span><br><span class="line"># events段配置信息</span><br><span class="line">events &#123;</span><br><span class="line">    accept_mutex on;   #设置网路连接序列化，防止惊群现象发生，默认为on</span><br><span class="line">    multi_accept on;  #设置一个进程是否同时接受多个网络连接，默认为off</span><br><span class="line">    #use epoll;      #事件驱动模型，select|poll|kqueue|epoll|resig|/dev/poll|eventport</span><br><span class="line">    worker_connections  1024;    #最大连接数，默认为512</span><br><span class="line">&#125;</span><br><span class="line"># http、配置请求信息</span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;   #文件扩展名与文件类型映射表</span><br><span class="line">    default_type  application/octet-stream; #默认文件类型，默认为text/plain</span><br><span class="line">    #access_log off; #取消服务日志    </span><br><span class="line">    log_format myFormat &#x27;$remote_addr–$remote_user [$time_local] $request $status $body_bytes_sent $http_referer $http_user_agent $http_x_forwarded_for&#x27;; #自定义格式</span><br><span class="line">    access_log log/access.log myFormat;  #combined为日志格式的默认值</span><br><span class="line">    sendfile on;   #允许sendfile方式传输文件，默认为off，可以在http块，server块，location块。</span><br><span class="line">    sendfile_max_chunk 100k;  #每个进程每次调用传输数量不能大于设定的值，默认为0，即不设上限。</span><br><span class="line">    keepalive_timeout 65;  #连接超时时间，默认为75s，可以在http，server，location块。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    upstream mysvr &#123;   </span><br><span class="line">      server 127.0.0.1:7878;</span><br><span class="line">      server 192.168.10.121:3333 backup;  #热备</span><br><span class="line">    &#125;</span><br><span class="line">    error_page 404 https://www.baidu.com; #错误页</span><br><span class="line">    # 第一个Server区块开始，表示一个独立的虚拟主机站点</span><br><span class="line">    server &#123;</span><br><span class="line">        keepalive_requests 120; #单连接请求上限次数。</span><br><span class="line">        listen       4545;   #监听端口</span><br><span class="line">        server_name  127.0.0.1;   #监听地址       </span><br><span class="line">        location  ~*^.+$ &#123;       #请求的url过滤，正则匹配，~为区分大小写，~*为不区分大小写。</span><br><span class="line">           #root path;  #根目录</span><br><span class="line">           #index vv.txt;  #设置默认页</span><br><span class="line">           proxy_pass  http://mysvr;  #请求转向mysvr 定义的服务器列表</span><br><span class="line">           deny 127.0.0.1;  #拒绝的ip</span><br><span class="line">           allow 172.18.5.54; #允许的ip           </span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h2><p>反向代理是指以代理服务器来接收Internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端。真实的服务器不能被外部网络访问，所以需要一台代理服务器，而代理服务器能被外部网络访问的同时又跟真实服务器在同一个网络环境，当然也可能是同一台服务器，端口不同。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  localhost;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">         proxy_pass http://localhost:8081;</span><br><span class="line">         proxy_set_header Host $host:$server_port;#为请求头添加Host字段，用于指定请求服务器的域名/IP地址和端口号。  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">         # 设置用户ip地址</span><br><span class="line">         proxy_set_header X-Forwarded-For $remote_addr;#为请求头添加XFF字段，值为客户端的IP地址。</span><br><span class="line">         # 当请求服务器出错去寻找其他服务器</span><br><span class="line">         proxy_next_upstream error timeout invalid_header http_500 http_502 http_503;</span><br><span class="line">    </span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/04/%E5%89%8D%E7%AB%AF/%E9%9D%A2%E7%BB%8F/2022%E5%B9%B4%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%BB%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/04/%E5%89%8D%E7%AB%AF/%E9%9D%A2%E7%BB%8F/2022%E5%B9%B4%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%BB%8F/" class="post-title-link" itemprop="url">2022年前端面经</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-10-04 17:08:50 / Modified: 17:12:26" itemprop="dateCreated datePublished" datetime="2022-10-04T17:08:50+08:00">2022-10-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="启明星辰"><a href="#启明星辰" class="headerlink" title="启明星辰"></a>启明星辰</h1><h2 id="一面"><a href="#一面" class="headerlink" title="一面"></a>一面</h2><ol>
<li>html5</li>
<li>语义化标签的作用</li>
<li>localStorage和sessionStorage的区别</li>
<li>拖拽API</li>
<li>水平垂直居中</li>
<li>js继承</li>
<li>原型链继承是怎么实现的</li>
<li>闭包及其使用场景</li>
<li>防抖和节流</li>
<li>闭包的优缺点</li>
<li>es6的新特性</li>
<li>let和const</li>
<li>深拷贝和浅拷贝是怎么区分的，为什么会这样？</li>
<li>promise</li>
<li>promise有几种状态</li>
<li>promise和async await有什么区别</li>
<li>set和map介绍一下</li>
<li>ts有没有使用过 </li>
<li>箭头函数和普通函数的区别</li>
<li>普通函数改变this指向的方法，区别是什么</li>
<li>watch和computed的区别</li>
<li>vue的双向绑定原理</li>
<li>v-show和v-if的区别是什么</li>
<li>为什么不推荐使用index作为key值</li>
<li>provide和inject</li>
<li>什么情况下会使用vuex</li>
<li>nextTick</li>
<li>性能优化</li>
<li>打包方面的优化</li>
<li>项目中webpack的使用</li>
<li>source map的使用</li>
<li>浏览器缓存</li>
<li>事件循环机制题目</li>
<li>tree转为list</li>
<li>为什么有三个月空窗期</li>
<li>你觉得在一个公司呆多长的时间是一个理想状态</li>
<li>考虑一家公司长久待下去最看重的是什么</li>
<li>上一家公司的开发流程</li>
<li>线上的问题怎么处理</li>
<li>测试过程中和测试意见不一致怎么处理</li>
<li>上一家公司的节奏和任务量对于你来说是否大</li>
<li>家是哪里的</li>
<li>第二学位是什么？在校的成绩大概是什么样的</li>
<li>你觉得自己在工作中的学习能力怎么样</li>
<li>项目相关</li>
<li>对于自己代码的追求是什么样的</li>
<li>自己的优缺点</li>
</ol>
<h2 id="二面"><a href="#二面" class="headerlink" title="二面"></a>二面</h2><ol>
<li>十万条数据如何处理</li>
<li>vue和其他框架相比的优势</li>
<li>前后端分离模式简单描述</li>
<li>开发方式是IPD还是敏捷开发</li>
<li>对于数据库有什么了解</li>
<li>对于node的中间件有什么了解</li>
<li>消息中间件</li>
<li>对于微服务架构有什么了解</li>
<li>对于实际工作量超过工时安排该怎么办</li>
<li>对于后端是什么看法</li>
</ol>
<h1 id="久其软件"><a href="#久其软件" class="headerlink" title="久其软件"></a>久其软件</h1><ol>
<li>开发组件需要注意什么</li>
<li>css常用的布局方式<ul>
<li>静态布局</li>
<li>自适应布局</li>
<li>流式布局</li>
<li>响应式布局</li>
<li>弹性布局</li>
</ul>
</li>
<li>flex布局的问题<ul>
<li>如果在不给父元素固定宽高，并且给子元素固定宽高的情况下，子元素是不能撑开父元素的宽高的</li>
</ul>
</li>
<li>水平垂直居中方式</li>
<li>css的权重</li>
<li>important使用</li>
<li>上下三栏布局怎么实现</li>
<li>怎么避免类名冲突</li>
<li>字符串和数组常用方法</li>
<li>遍历对象<ul>
<li>for in</li>
<li>for of</li>
<li>object.keys</li>
<li>object.values</li>
<li>object.entries</li>
<li>Object.getOwnPropertyNames</li>
</ul>
</li>
<li>怎么判断对象是否是空对象</li>
<li>深拷贝和浅拷贝</li>
<li>对于promise的理解</li>
<li>异步代码同步执行该怎么做</li>
<li>本地存储</li>
<li>动态引用样式文件</li>
<li>v-if和v-show的区别</li>
<li>双向数据绑定原理</li>
<li>computed和watch的区别</li>
<li>组件传值方式</li>
<li>vuex的使用</li>
<li>修改数据界面不渲染怎么解决</li>
<li>父子组件周期函数执行顺序<ul>
<li>父beforeCreate-&gt;父created-&gt;父beforeMount-&gt;子beforeCreate-&gt;子created-&gt;子beforeMount-&gt;子mounted-&gt;父mounted</li>
</ul>
</li>
<li>插槽的使用</li>
<li>混入的使用和本身生命周期的优先级</li>
<li>过滤器的使用场景</li>
<li>性能优化</li>
<li>项目中比较难解决的问题</li>
<li>开源组件库有什么问题</li>
</ol>
<h1 id="二六三"><a href="#二六三" class="headerlink" title="二六三"></a>二六三</h1><ol>
<li>vue兼容性的问题</li>
<li>JavaScript为什么是个弱类型语言</li>
<li>什么是闭包？有什么优缺点</li>
<li>发生内存泄漏怎么定位到问题</li>
<li>怎么定位生产环境的问题</li>
<li>vue的单向数据流？实际应用</li>
<li>vue双向数据绑定的原理是什么</li>
<li>layUI</li>
<li>vue路由</li>
<li>数据去重</li>
<li>数据结构和算法简单介绍一下</li>
<li>从输入URL到展示的过程</li>
<li>文件是怎么渲染的<ul>
<li>DOM + CSSOM</li>
<li>render树</li>
<li>绘制</li>
</ul>
</li>
<li>虚拟DOM简单介绍一下</li>
<li>重绘和回流简单介绍一下<ul>
<li>当渲染树中的一些元素需要更新属性，而这些属性只是影响元素的外观、风格，而不会影响布局的操作</li>
<li>当渲染树中的一部分（或全部）因为元素的规模尺寸、布局、隐藏等改变而需要重新构建的操作，会影响到布局的操作，这样的操作我们称为回流</li>
</ul>
</li>
</ol>
<h1 id="小熊博望"><a href="#小熊博望" class="headerlink" title="小熊博望"></a>小熊博望</h1><ol>
<li>最近在学习什么</li>
<li>node简单介绍一下</li>
<li>移动端适配</li>
<li>rem的实现逻辑</li>
<li>设置根节点的基数是根据什么来设置</li>
<li>图片的预加载</li>
<li>什么时间会触发onload</li>
<li>onload时候放在head里面的js和放在body里面的js会不会都执行</li>
<li>js放在head和body里面</li>
<li>图片的懒加载</li>
<li>虚拟列表怎么增加，会用到哪些API</li>
<li>怎么判断一个图片有没有显示在可视区域</li>
<li>em和rem的区别</li>
<li>父元素font-size设置为20px，子元素设置为2em</li>
<li>父元素font-size设置为1rem，子元素设置为2em</li>
<li>空的html，1rem等于</li>
<li>vw和vh</li>
<li>padding-left &#x3D;&#x3D; 10%，父元素宽是1000px,那么padding-left为多少</li>
<li>父元素高度是500px,宽度是1000px，padding-left：10%，padding-top：10%，那么现在padding各是多少</li>
<li>标题最多显示两行，超过两行显示省略号</li>
<li>从红色渐变成蓝色有什么方法</li>
<li>transition写在元素本身还是写在hover里面？如果写在hover里面会有什么效果</li>
<li>动画的api，反向、运动次数、最后停止位置</li>
<li>对密码强度进行校验，强中弱？<ul>
<li>面试官提了一个优化方法：设置一个变量进行加权</li>
</ul>
</li>
<li>vue的生命周期简单介绍</li>
<li>beforeCreate和created都做了什么</li>
<li>什么时候挂载到页面上</li>
<li>最早可以在哪个钩子函数里面取到页面dom</li>
<li>v-model原理</li>
<li>vue的两种路由</li>
<li>原生js怎么取到hash模式下的路由和参数</li>
<li>window.location.hash的参数包含在里面吗</li>
<li>原生js怎么取到history模式下的路由和参数</li>
<li>一个数组，每一项是一个对象，包含姓名和年龄，按年龄进行排序</li>
</ol>
<h1 id="百度"><a href="#百度" class="headerlink" title="百度"></a>百度</h1><h2 id="一面-1"><a href="#一面-1" class="headerlink" title="一面"></a>一面</h2><ol>
<li>vue2和vue3之间的区别</li>
<li>css使元素实现水平垂直居中</li>
<li>内阴影</li>
<li>单测</li>
</ol>
<p>手写题</p>
<ol>
<li>[<br>{‘day’:20111001,’type’:’aa’,’value’:1101},<br>{‘day’:20111002,’type’:’aa’,’value’:1102}, <br>{‘day’:20111002,’type’:’bb’,’value’:2202}, <br>{‘day’:20111003,’type’:’aa’,’value’:1103}, <br>{‘day’:20111003,’type’:’bb’,’value’:2203}, <br>{‘day’:20111005,’type’:’bb’,’value’:2205}<br>]</li>
</ol>
<p>  </p>
<p>{‘aa’:[1101,1102,1103,null],’bb’:[null,2202,2203,2205]}  </p>
<ol start="2">
<li>data &#x3D; [<br> {user: ‘a’,time: ‘2022-05-12 09:13:34’, status: 1},<br> {user: ‘b’,time: ‘2022-05-12 12:13:34’, status: 1},<br> {user: ‘a’,time: ‘2022-05-12 09:13:34’, status: 2},<br> {user: ‘b’,time: ‘2022-05-12 09:13:34’, status: 2},<br> {user: ‘a’,time: ‘2022-05-13 09:13:34’, status: 1},<br> {user: ‘b’,time: ‘2022-05-14 09:13:34’, status: 1},<br> {user: ‘a’,time: ‘2022-05-14 09:13:34’, status: 0},<br> {user: ‘b’,time: ‘2022-05-15 09:13:34’, status: 0}<br>]</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">returnDay</span>(<span class="params">user</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> arr = [&#123;</span><br><span class="line">          <span class="attr">user</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">          <span class="attr">time</span>: <span class="string">&#x27;2022-05-12 09:13:34&#x27;</span>,</span><br><span class="line">          <span class="attr">status</span>: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">user</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">          <span class="attr">time</span>: <span class="string">&#x27;2022-05-12 12:13:34&#x27;</span>,</span><br><span class="line">          <span class="attr">status</span>: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">user</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">          <span class="attr">time</span>: <span class="string">&#x27;2022-05-12 09:13:34&#x27;</span>,</span><br><span class="line">          <span class="attr">status</span>: <span class="number">2</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">user</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">          <span class="attr">time</span>: <span class="string">&#x27;2022-05-12 09:13:34&#x27;</span>,</span><br><span class="line">          <span class="attr">status</span>: <span class="number">2</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">user</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">          <span class="attr">time</span>: <span class="string">&#x27;2022-05-13 09:13:34&#x27;</span>,</span><br><span class="line">          <span class="attr">status</span>: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">user</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">          <span class="attr">time</span>: <span class="string">&#x27;2022-05-14 09:13:34&#x27;</span>,</span><br><span class="line">          <span class="attr">status</span>: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">user</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">          <span class="attr">time</span>: <span class="string">&#x27;2022-05-14 09:13:34&#x27;</span>,</span><br><span class="line">          <span class="attr">status</span>: <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">user</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">          <span class="attr">time</span>: <span class="string">&#x27;2022-05-15 09:13:34&#x27;</span>,</span><br><span class="line">          <span class="attr">status</span>: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">      <span class="keyword">let</span> newArr = [] <span class="comment">// user相等的time</span></span><br><span class="line">      arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (user = item.<span class="property">user</span>) &#123;</span><br><span class="line">          newArr.<span class="title function_">push</span>(item.<span class="property">time</span>.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">10</span>))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="comment">//   [2022-05-15,2022-05-15] 20200515</span></span><br><span class="line">      <span class="keyword">let</span> max = <span class="number">0</span>,</span><br><span class="line">        set = <span class="keyword">new</span> <span class="title class_">Set</span>(newArr) <span class="comment">// max返回的最大值，set过滤，找数据</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> set) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!set.<span class="title function_">get</span>(i - <span class="number">1</span>)) &#123; <span class="comment">// i前一天的数据</span></span><br><span class="line">          <span class="keyword">let</span> cur = i,</span><br><span class="line">            path = <span class="number">1</span> <span class="comment">// cur临时变量 ，当前日期 ，path当前日期之后的连续天数</span></span><br><span class="line">          <span class="keyword">while</span> (set.<span class="title function_">get</span>(cur + <span class="number">1</span>)) &#123;</span><br><span class="line">            cur = cur + <span class="number">1</span> <span class="comment">// 当前日期加一</span></span><br><span class="line">            path++ <span class="comment">// 临时最大值</span></span><br><span class="line">            max = <span class="title class_">Math</span>.<span class="title function_">max</span>(max, path) <span class="comment">// 实际最大值</span></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> max</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">returnDay</span>(<span class="string">&#x27;aa&#x27;</span>));</span><br></pre></td></tr></table></figure>
<h2 id="二面-1"><a href="#二面-1" class="headerlink" title="二面"></a>二面</h2><ol>
<li>项目上这些组件是通过什么方式聚合起来</li>
<li>引擎拿到组件和组件绑定的数据，是怎么还原成页面的<ul>
<li>是否是jsonToUI</li>
</ul>
</li>
<li>页面加载会需要等待多长时间<ul>
<li>这段时间发生了什么</li>
<li>有排查过是因为什么导致渲染卡顿</li>
</ul>
</li>
<li>是否调研过业界开源的低代码</li>
<li>事件这一块是怎么设计的<ul>
<li>是预先设计好的逻辑</li>
<li>是否支持自定义事件</li>
</ul>
</li>
<li>页面和模型之间是耦合在一起的<ul>
<li>有没有可能把这两个进行解耦</li>
<li>理想太是什么样的</li>
</ul>
</li>
<li>事件会有提交流程<ul>
<li>渲染的时候会再去做事件绑定，触发事件</li>
<li>有没有考虑过安全的问题，比如js的注入等</li>
<li>安全处理这块做在哪一层</li>
<li>前端提交的时候有没有可能做一些优化</li>
</ul>
</li>
<li>印象最深刻的地方是什么</li>
<li>技术的提升具体在哪一块</li>
<li>最近在关注的新的技术点</li>
<li>平时是怎么去关注最新的技术点</li>
<li>最近的业务会需要用到的技术去做准备</li>
</ol>
<h1 id="字节一面"><a href="#字节一面" class="headerlink" title="字节一面"></a>字节一面</h1><ol>
<li>对于平台的优化<ul>
<li>系统优化都有哪些</li>
<li>怎么知道优化提高了多少</li>
<li>因为什么原因要去优化</li>
</ul>
</li>
<li>通用组件的开发</li>
</ol>
<h1 id="新华三"><a href="#新华三" class="headerlink" title="新华三"></a>新华三</h1><ol>
<li>vue双向绑定原理</li>
<li>双向绑定什么时候会失效<ul>
<li>$SET</li>
</ul>
</li>
<li>vue2和vue3的双向绑定有什么不同</li>
<li>v-for为什么使用key</li>
<li>什么是盒模型<ul>
<li>由几个部分组成</li>
</ul>
</li>
<li>独立写过一个功能<ul>
<li>做好这个模块哪些东西需要考虑</li>
<li>兼容性问题</li>
</ul>
</li>
</ol>
<h1 id="数坤"><a href="#数坤" class="headerlink" title="数坤"></a>数坤</h1><h2 id="一面-2"><a href="#一面-2" class="headerlink" title="一面"></a>一面</h2><ol>
<li>vue2的双向绑定原理</li>
<li>vue更新的颗粒度</li>
<li>react和vue的对比</li>
<li>vue的性能瓶颈</li>
<li>虚拟DOM快不快<ul>
<li>面试官说快体现在开发效率上</li>
</ul>
</li>
<li>把真实DOM转换成虚拟DOM是什么过程</li>
<li>vue和react去哪里解析html</li>
<li>template最终遍历的结果是什么东西，存在DOM结构里吗</li>
<li>vue-router两种模式的原理</li>
<li>刷新页面时候404是怎么处理的，怎么定位到原来的页面</li>
<li>elementUI按需引入怎么实现的？这个插件是怎么实现？对应的css是什么样的<ul>
<li>不管是全部引入还是按需引入 ，css样式还是需要全部引入的</li>
</ul>
</li>
<li>BFF主要做什么？BFF具体是什么？</li>
<li>最近在学习什么</li>
<li>工作中最近遇到了什么难点</li>
<li>从输入URL到展示<ul>
<li>缓存</li>
<li>DNS解析在哪里解析的</li>
<li>日常对什么文件进行缓存</li>
<li>index.html为什么不设置缓存</li>
</ul>
</li>
</ol>
<h2 id="二面-2"><a href="#二面-2" class="headerlink" title="二面"></a>二面</h2><ol>
<li>vue的生命周期</li>
<li>文件上传，vue中怎么实现表单提交<ul>
<li>formdata</li>
</ul>
</li>
<li>forEach、map、filter的区别</li>
<li>原生获取dom的方法</li>
<li>vuex介绍一下</li>
<li>vuex、props、localstorage的区别</li>
<li>动态路由</li>
<li>axios的拦截器有什么作用<ul>
<li>请求拦截器：添加统一cookie，请求体加验证、设置请求头等</li>
<li>响应拦截器：对响应体的一些处理</li>
</ul>
</li>
<li>mock.js</li>
<li>nginx的location访问规则<ul>
<li>精准匹配 &#x3D; </li>
<li>大小写敏感匹配 ~</li>
<li>大小写不敏感匹配 ~*</li>
<li>指定后缀匹配</li>
<li>忽略正则匹配</li>
</ul>
</li>
<li>echarts用在什么场景下</li>
<li>vue2和vue3版本之间的区别</li>
<li>细问项目</li>
</ol>
<h1 id="字节火山一面"><a href="#字节火山一面" class="headerlink" title="字节火山一面"></a>字节火山一面</h1><ol>
<li>渲染引擎</li>
<li>项目中的事件配置</li>
<li>js中的数据类型</li>
<li>symbol和bigInt的作用</li>
<li>基本类型和引用类型有什么区别</li>
<li>堆和栈分别是什么，有什么区别，为什么要区分堆存放和栈存放</li>
<li>数据类型判断</li>
<li>typeof function是什么</li>
<li>从输入URL到最后渲染发生了什么</li>
<li>tcp三次握手的大概过程</li>
<li>第一次握手的初始序列号是怎么样生成的</li>
<li>为什么需要有初始序列号</li>
<li>把初始序列号设为1会有什么影响</li>
<li>render树经过什么变化才到最终页面形成</li>
<li>ast用到的最多的是在什么时候</li>
<li>ast是什么样的结构，全称是什么，用来描述什么</li>
<li>vue的响应式原理</li>
<li>单向数据流怎么理解</li>
<li>nextTick怎么理解，是怎么实现的</li>
<li>vue中怎么把多次的数据修改合并成一次的</li>
<li>常见web安全方面的，防护原理</li>
<li>链表中间节点</li>
<li>实现链表</li>
<li>js限流调度器</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 输出值</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> x = <span class="number">2</span>; </span><br><span class="line">      <span class="keyword">const</span> a = &#123;</span><br><span class="line">        <span class="attr">x</span>:<span class="number">3</span>,</span><br><span class="line">        <span class="title function_">fn1</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="string">&#x27;fn1&#x27;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">fn2</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="string">&#x27;fn2&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">const</span> fn3 =a.<span class="property">fn1</span></span><br><span class="line">      a.<span class="title function_">fn1</span>()</span><br><span class="line">      a.<span class="title function_">fn2</span>()</span><br><span class="line">      <span class="title function_">fn3</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    fn.<span class="title function_">call</span>(&#123;<span class="attr">x</span>: <span class="number">4</span>&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i == <span class="number">0</span>;i &lt; <span class="number">10000</span>;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">9999</span>) &#123;</span><br><span class="line">            <span class="title function_">resolve</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<h1 id="方正电子"><a href="#方正电子" class="headerlink" title="方正电子"></a>方正电子</h1><ol>
<li>换肤怎么实现</li>
<li>js的数据类型</li>
<li>怎么判断数据类型</li>
<li>0.1+0.2的结果是多少？怎么计算几个小数并求和？</li>
<li>对于原型和原型链的了解</li>
<li>浅拷贝或者深拷贝</li>
<li>对于事件队列的了解</li>
<li>怎么判断输出顺序？async和await的执行顺序</li>
<li>await的代码时立即执行还是放到任务队列里面</li>
<li>类数组转化为数组的方法</li>
<li>splice和slice的区别</li>
<li>promise.all如果有一个结果错误但是想要返回其他的怎么办</li>
<li>https访问http下的地址，一些图片访问不了应该怎么办</li>
<li>vue2和vue3的区别</li>
<li>组件传值的方法</li>
<li>vuex的基本属性</li>
<li>vue2的双向绑定原理</li>
<li>组件更新时的父子生命周期</li>
<li>父组件访问子组件的mounted</li>
<li>路由守卫</li>
<li>动态路由</li>
<li>移动端单位换算</li>
<li>常用的plugin和loader</li>
</ol>
<h1 id="奇安信"><a href="#奇安信" class="headerlink" title="奇安信"></a>奇安信</h1><ol>
<li>大屏页面宽高不固定，怎么适配</li>
<li>闭包</li>
<li>原型和原型链</li>
<li>var let const</li>
<li>promise.all</li>
<li>vue的生命周期</li>
<li>vue store为什么值改变会同步到页面上</li>
<li>vuex用的什么设计模式</li>
<li>vue中data里面的值改变页面上的值为什么会更新</li>
<li>axios是基于什么封装的</li>
<li>普通监听和深度监听</li>
<li>父子组件传值</li>
<li>hash和history路由实现</li>
<li>console.log是同步还是异步的</li>
<li>vue是基于什么实现的？用的什么算法</li>
</ol>
<h1 id="华为od"><a href="#华为od" class="headerlink" title="华为od"></a>华为od</h1><h2 id="笔试"><a href="#笔试" class="headerlink" title="笔试"></a>笔试</h2><ol>
<li>三数之和变种题 – 数组中满足 A &#x3D; B + 2*C的值 mid</li>
<li>数组拼接 – 多个数组按固定长度依次拼接 easy</li>
<li>leetcode-394 字符串解码 mid</li>
</ol>
<h2 id="一面-3"><a href="#一面-3" class="headerlink" title="一面"></a>一面</h2><ol>
<li>自我介绍</li>
<li>项目介绍，职责介绍</li>
<li>null和undefined的区别</li>
<li>visibility: hidden 和 display:none的区别</li>
<li>闭包</li>
<li>flex</li>
<li>垃圾回收</li>
<li>vue-router的两种模式</li>
<li>vue的生命周期</li>
<li>css选择器权重</li>
<li>算法题：连续子数组的最大和 剑指 Offer 42. 连续子数组的最大和 easy</li>
<li>算法题：判断数组中是否有重复数字，两种方法 easy</li>
</ol>
<h2 id="二面-3"><a href="#二面-3" class="headerlink" title="二面"></a>二面</h2><ol>
<li>前后端交互</li>
<li>axios</li>
<li>性能优化</li>
<li>vue原理</li>
<li>算法题：合并区间 mid</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/29/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E9%A2%84%E5%8A%A0%E8%BD%BD%E5%92%8C%E6%87%92%E5%8A%A0%E8%BD%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/29/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E9%A2%84%E5%8A%A0%E8%BD%BD%E5%92%8C%E6%87%92%E5%8A%A0%E8%BD%BD/" class="post-title-link" itemprop="url">预加载和懒加载</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-07-29 09:38:10 / Modified: 09:38:13" itemprop="dateCreated datePublished" datetime="2022-07-29T09:38:10+08:00">2022-07-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="预加载和懒加载"><a href="#预加载和懒加载" class="headerlink" title="预加载和懒加载"></a>预加载和懒加载</h1><h2 id="预加载"><a href="#预加载" class="headerlink" title="预加载"></a>预加载</h2><p>就是在我们需要使用到图片资源的地方之前就把这些图片资源加载下来，这样在我们使用的地方就会直接从本地缓存中去取</p>
<h3 id="实现方式一"><a href="#实现方式一" class="headerlink" title="实现方式一"></a>实现方式一</h3><p>可以直接在使用之前报所以资源加载下来这样就会缓解当在需要使用的地方所有资源加载太慢而出现的副作用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.image</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-1.jpg&quot;</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-1_1.jpg&quot;</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-2_1.jpg&quot;</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-4_1.jpg&quot;</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-5_1.jpg&quot;</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-1_1.jpg&quot;</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">animation</span>: bgmove <span class="number">10s</span> infinite;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="实现方式二"><a href="#实现方式二" class="headerlink" title="实现方式二"></a>实现方式二</h3><p>可以使用image 对象,每创建一个image对象的时候就给浏览器缓存了一张图片,在需要使用的极速加载</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [</span><br><span class="line">    <span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-1_1.jpg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-2_1.jpg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-4_1.jpg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-5_1.jpg&quot;</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> imgs = []</span><br><span class="line"><span class="title function_">preLoadImg</span>(arr);</span><br><span class="line"></span><br><span class="line"><span class="comment">//图片预加载方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">preLoadImg</span>(<span class="params">pars</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        imgs[i] = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">        imgs[i].<span class="property">src</span> = arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h2><p>自定义一个属性存放img的真实地址,在img 的src属性存放一个占位的图片地址(小图或者是图片加载的动图),当img出现在浏览器的可视区域时再将真实的图片地址赋值给img的src属性,减轻服务器端的压力 Element.getBoundingClientRect() 方法返回元素的大小及其相对于视口的位置</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-top</span>: <span class="number">1000px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;img1&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2167624966,4016886940&amp;fm=26&amp;gp=0.jpg&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">data-src</span>=<span class="string">&quot;https://sqimg.qq.com/qq_product_operations/im/pcqq/9.0/firstscreen_img/BG-4_1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> viewPortHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> $img1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;img1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">viewport</span>(<span class="params">el</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//下面两者的效果是一样的</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> el.<span class="property">offsetTop</span> - <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>+<span class="number">200</span> &lt;= viewPortHeight;</span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//return el.getBoundingClientRect().top - document.documentElement.scrollTop+200 &lt;= viewPortHeight;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">onscroll</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//如果图片出现在页面的可视区域,就替换真实的图片</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>(<span class="title function_">viewport</span>($img1))&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;图片出现在页面中&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//也可以在这里添加图片加载的动画</span></span></span><br><span class="line"><span class="language-javascript">            $img1.<span class="property">src</span> = $img1.<span class="title function_">getAttribute</span>(<span class="string">&quot;data-src&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;图片没有出现&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="判断元素是否出现在页面的可视区域的优化"><a href="#判断元素是否出现在页面的可视区域的优化" class="headerlink" title="判断元素是否出现在页面的可视区域的优化"></a>判断元素是否出现在页面的可视区域的优化</h3><p>使用懒加载的方式主要是缓解服务器的压力,但是因为使用了scroll方法,计算量较大,会造成性能问题,现在有一个新的API  IntersectionObserver,可以自动监测元素是否在页面中可见,这个API也叫做”交叉观察器”,就是目标元素与视口产生的一个交叉区.<br>主要使用场景 : 懒加载 + 无限滚动</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">   <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#full</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#f22</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#test</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.addclass</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#3f3</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#last</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100vw</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;full&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;last&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> test = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">         <span class="keyword">var</span> last= <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;last&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> io = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(<span class="function">(<span class="params">entries</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//entries是一个数组，数组中的每一个元素都是IntersectionObserverEntry对象</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;entries: &#x27;</span>, entries);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(entries[<span class="number">0</span>].<span class="property">isIntersecting</span> )&#123;</span></span><br><span class="line"><span class="language-javascript">                test.<span class="property">className</span> = <span class="string">&#x27;addclass&#x27;</span> </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        io.<span class="title function_">observe</span>(test); <span class="comment">//开启检测需要指定元素</span></span></span><br><span class="line"><span class="language-javascript">         io.<span class="title function_">observe</span>(last);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6972719794051088414">https://juejin.cn/post/6972719794051088414</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/25/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/25/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="post-title-link" itemprop="url">性能优化</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-07-25 17:34:15 / Modified: 20:58:29" itemprop="dateCreated datePublished" datetime="2022-07-25T17:34:15+08:00">2022-07-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">解决方法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h1><h2 id="具体优化内容"><a href="#具体优化内容" class="headerlink" title="具体优化内容"></a>具体优化内容</h2><h3 id="加载优化"><a href="#加载优化" class="headerlink" title="加载优化"></a>加载优化</h3><ol>
<li>加载优化</li>
<li>压缩合并</li>
<li>代码分隔，可以基于路由或动态加载</li>
<li>第三方模块放在CDN</li>
<li>大模块异步加载，例如：Echart，可以使用require.ensure，在加载成功后，在显示对应图表</li>
<li>小模块适度合并，将一些零散的小模块合并在一起加载，速度较快</li>
<li>可以使用pefetch预加载，在分布场景中非常适合</li>
</ol>
<h3 id="图片优化"><a href="#图片优化" class="headerlink" title="图片优化"></a>图片优化</h3><ol>
<li>小图使用雪碧图、iconFont、base64内联</li>
<li>图片使用懒加载</li>
<li>webp代替其他格式</li>
<li>图片一定要压缩</li>
<li>可以使用的img的srcset，根据不同分辨率显示不同尺寸图片，这样既保证显示效果，又能节省带宽，提高加载速度</li>
</ol>
<h3 id="CSS优化"><a href="#CSS优化" class="headerlink" title="CSS优化"></a>CSS优化</h3><ol>
<li>css写在头部</li>
<li>避免css表单式</li>
<li>移除空置的css规则</li>
<li>避免行内style样式</li>
</ol>
<h3 id="js优化"><a href="#js优化" class="headerlink" title="js优化"></a>js优化</h3><ol>
<li>js写在body底部</li>
<li>js使用defer放在头部，提前加载时间，又不阻塞dom解析</li>
<li>script标签添加crossorigin，方便错误收集</li>
<li>使用非阻塞方式下载js脚本</li>
<li>尽量使用局部变量来保存全局变量</li>
<li>尽量减少使用闭包</li>
<li>使用window对象属性方法时，省略window</li>
<li>尽量减少对象成员嵌套</li>
<li>缓存DOM节点的访问</li>
<li>避免使用eval()和Function()构造器</li>
<li>给setTimeout和setInterval传递函数而不是字符串作为参数</li>
<li>尽量使用直接量创建对象和数组</li>
<li>最小化重绘和回流</li>
<li>遵循严格模式：’use strict’</li>
<li>将js脚本放在页面底部，加快渲染页面</li>
<li>将js脚本成组打包，减少请求</li>
</ol>
<h3 id="渲染优化"><a href="#渲染优化" class="headerlink" title="渲染优化"></a>渲染优化</h3><ol>
<li><p>尽量减少reflow和repaint</p>
<ul>
<li>涉及样式、尺寸、节点增减的操作，都会触发reflow和repaint</li>
<li>用变量缓存dom样式，不要频繁读取</li>
<li>通过DocumentFragment或innerHTML批量操作dom</li>
<li>dom隐藏，或复制到内存中，类似vdom进行修改，完成后再替换回去</li>
<li>动画元素一定要absolute，脱离文档流，不影响其他元素，动画不要用left，top等操作，要使用transform和opacity，同时开启渲染层（will-change或translate3d(0,0,0)）</li>
<li>动画尽量使用requestAnimationFrame，不要用定时器</li>
<li>移动端硬件加速，触发GPU渲染</li>
</ul>
</li>
<li><p>尽量减少页面重排、重绘</p>
</li>
<li><p>去空规则</p>
</li>
<li><p>属性值为0，不加单位</p>
</li>
<li><p>选择器优化嵌套，尽量避免层级过深</p>
</li>
<li><p>不使用@import前缀，它会影响css的加载速度</p>
</li>
<li><p>属性值为浮动小数0.* *，可以省略小数点之前的0。</p>
</li>
<li><p>不滥用web字体。对于中文网站来说WebFonts可能很陌生，国外却很流行。web fonts通常体积庞大，而且一些浏览器在下载web fonts时会阻塞页面渲染损伤性能</p>
</li>
<li><p>慎重使用高性能属性：浮动、定位</p>
</li>
</ol>
<h3 id="首屏优化"><a href="#首屏优化" class="headerlink" title="首屏优化"></a>首屏优化</h3><ol>
<li>代码分离，将首屏不需要的代码分离出去</li>
<li>服务器渲染或预渲染，加载完html直接渲染，减少白屏时间</li>
<li>DNS prefetch，使用dns-prefetch减少dns查询时间，pc端域名发散，移动端域名收敛</li>
<li>减少关键路径css，可以将关键的css内联，这样可以减少加载和渲染时间</li>
</ol>
<h3 id="打包优化"><a href="#打包优化" class="headerlink" title="打包优化"></a>打包优化</h3><ol>
<li>拆包extemals dllPlugin</li>
<li>提取公共包commonChunkPlugin或splitChunks</li>
<li>缩小范围，各种loader配置include和exclude，noParse跳过文件</li>
<li>开启缓存，各种loader开启cache</li>
<li>多线程加速happypack或thead-loader</li>
<li>tree-shaking ES模块分析，移除死代码</li>
<li>Scope hoistingES6模块分析，将多个模块合并到一个函数里，减少内存占用，减小体积，提升运行速度</li>
</ol>
<h3 id="webpack长缓存优化"><a href="#webpack长缓存优化" class="headerlink" title="webpack长缓存优化"></a>webpack长缓存优化</h3><ol>
<li>js文件使用chunkhash，不使用hash</li>
<li>css文件使用contenthahs，不使用chunkhash，不受js变化影响</li>
<li>提取vendor，公共库不受业务模块变化影响</li>
<li>内联webpack runtime到页面，chunkid变化不影响vendor</li>
</ol>
<h3 id="vue优化"><a href="#vue优化" class="headerlink" title="vue优化"></a>vue优化</h3><ol>
<li>路由懒加载组件</li>
<li>keep-alive缓存组件，保持原显示状态</li>
<li>列表项添加key，保证唯一</li>
<li>列表项绑定事件，使用事件代理</li>
<li>v-if和v-for不用在一个标签</li>
</ol>
<h3 id="利用webpack-bundle-analyzer分析"><a href="#利用webpack-bundle-analyzer分析" class="headerlink" title="利用webpack-bundle-analyzer分析"></a>利用webpack-bundle-analyzer分析</h3><ol>
<li>安装webpack-bundle-analyzer插件，利用插件分析</li>
</ol>
<h4 id="video"><a href="#video" class="headerlink" title="video"></a>video</h4><ol>
<li>项目中video.js占用过大，有900kb以上</li>
<li>换用vue-video-player.js</li>
<li>将video,min.js 和 vue-video-player.js 单独拿出来放在static目录下，在 index.html中引入<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- <span class="title class_">Include</span> the videojs library --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./static/video.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;!-- videojs <span class="variable constant_">JS</span> <span class="title class_">Vue</span> --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./static/vue-video-player.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="element-ui"><a href="#element-ui" class="headerlink" title="element-ui"></a>element-ui</h4><ol>
<li>项目中其实有很多组件用不到，只有在实际用户端会用到所有组件</li>
<li>后期开发中，想要采用微服务的架构，把页面、模型、方法以及BI、大屏等代码进行拆分</li>
<li>另外细分，可以把登录、移动端、pc端等拆分开来</li>
<li>element按需引入</li>
</ol>
<h4 id="loadash"><a href="#loadash" class="headerlink" title="loadash"></a>loadash</h4><ol>
<li>整个项目中只用到了里面的防抖和深拷贝</li>
<li>自己实现防抖和深拷贝，不再全局引入</li>
</ol>
<h2 id="加载性能优化"><a href="#加载性能优化" class="headerlink" title="加载性能优化"></a>加载性能优化</h2><ol>
<li>css压缩<ul>
<li>将写好的css进行打包压缩，可以减小文件体积</li>
</ul>
</li>
<li>css单一样式<ul>
<li>当需要下边距和左边距的时候，很多时候会选择使用 margin:top 0 bottom 0；但margin-bottom:bottom;margin-left:left;执行效率会更高。</li>
</ul>
</li>
<li>减少使用@import，建议使用link，因为后者在页面加载时一起加载，前者是等待页面加载完成之后再进行加载</li>
</ol>
<h3 id="选择器性能"><a href="#选择器性能" class="headerlink" title="选择器性能"></a>选择器性能</h3><ol>
<li>关键选择器<ul>
<li>选择器的最后面的部分为关键选择器（即用来匹配目标元素的部分）。CSS选择符是从右到左进行匹配的。当使用后代选择器的时候，浏览器会遍历所有子元素来确定是否是指定的元素等等；</li>
</ul>
</li>
<li>如果规则拥有ID选择器作为其关键选择器，则不要为规则增加标签。过滤掉无关的规则</li>
<li>避免使用通配规则</li>
<li>尽量少的对标签进行选择，而是用class</li>
<li>尽量少的去使用后代选择器，降低选择器的权重值。后代选择器的开销是最高的，尽量将选择器的深度降到最低，最高不要超过三层，更多的使用类来关联每一个标签元素。</li>
<li>了解哪些属性是可以通过继承而来的，然后避免对这些属性重复指定规则。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/24/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E5%89%8D%E7%AB%AF%E6%8A%93%E5%8C%85%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/24/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E5%89%8D%E7%AB%AF%E6%8A%93%E5%8C%85%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">前端抓包简易教程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-07-24 15:28:31" itemprop="dateCreated datePublished" datetime="2022-07-24T15:28:31+08:00">2022-07-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-08 22:51:35" itemprop="dateModified" datetime="2024-04-08T22:51:35+08:00">2024-04-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">解决方法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="抓包工具使用教程"><a href="#抓包工具使用教程" class="headerlink" title="抓包工具使用教程"></a>抓包工具使用教程</h2><h2 id="window客户端—fiddler"><a href="#window客户端—fiddler" class="headerlink" title="window客户端—fiddler"></a>window客户端—fiddler</h2><h3 id="1-安装工具-Fiddler"><a href="#1-安装工具-Fiddler" class="headerlink" title="1.安装工具 Fiddler"></a>1.安装工具 Fiddler</h3><p>官方地址下载地址：<a target="_blank" rel="noopener" href="https://www.telerik.com/download/fiddler">https://www.telerik.com/download/fiddler</a></p>
<p>或者附件中下载</p>
<h3 id="2-安装"><a href="#2-安装" class="headerlink" title="2.安装"></a>2.安装</h3><p>略</p>
<h2 id="3-检查配置"><a href="#3-检查配置" class="headerlink" title="3.检查配置"></a>3.检查配置</h2><p><img src="/../../../public/img/%E6%8A%93%E5%8C%85/image-20210629102502378.png" alt="image-20210629102502378"></p>
<p><img src="/../../../public/img/%E6%8A%93%E5%8C%85/image-20210629102555507.png" alt="image-20210629102555507"></p>
<h3 id="4-获取代理地址（即本地地址也可在fidder又上角Online查看）"><a href="#4-获取代理地址（即本地地址也可在fidder又上角Online查看）" class="headerlink" title="4.获取代理地址（即本地地址也可在fidder又上角Online查看）"></a>4.获取代理地址（即本地地址也可在fidder又上角Online查看）</h3><p><img src="/../../../public/img/%E6%8A%93%E5%8C%85/image-20210629102906160.png" alt="image-20210629102906160"></p>
<h3 id="5-手机代理配置"><a href="#5-手机代理配置" class="headerlink" title="5.手机代理配置"></a>5.手机代理配置</h3><p> <img src="../../../public/img/%E6%8A%93%E5%8C%85/image-20210629103530950.png" alt="image-20210629103530950" style="zoom: 33%;" /><img src="../../../public/img/%E6%8A%93%E5%8C%85/image-20210629103548012.png" alt="image-20210629103548012" style="zoom:33%;" /></p>
<p>手机网络-&gt;连接的网络-&gt;高级设置-&gt;代理-&gt;配置主机地址以及端口</p>
<p>6.查看请求</p>
<p><img src="/../../../public/img/%E6%8A%93%E5%8C%85/image-20210629110035472.png" alt="image-20210629110035472"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/16/%E5%B7%A5%E7%A8%8B%E5%8C%96/webpack%E7%83%AD%E6%9B%B4%E6%96%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/16/%E5%B7%A5%E7%A8%8B%E5%8C%96/webpack%E7%83%AD%E6%9B%B4%E6%96%B0/" class="post-title-link" itemprop="url">webpack热更新</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-07-16 16:14:29 / Modified: 16:43:47" itemprop="dateCreated datePublished" datetime="2022-07-16T16:14:29+08:00">2022-07-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/webpack/" itemprop="url" rel="index"><span itemprop="name">webpack</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="热更新-HMR"><a href="#热更新-HMR" class="headerlink" title="热更新(HMR)"></a>热更新(HMR)</h1><p>保持页面状态的情况下动态替换资源模块</p>
<h2 id="HMR之前"><a href="#HMR之前" class="headerlink" title="HMR之前"></a>HMR之前</h2><ol>
<li>应用的加载、更新是一种页面级别的原子操作，即使只是单个代码文件发生变更都需要刷新整个页面才能将最新代码映射到浏览器上，这会丢失之前在页面执行过的所有交互与状态</li>
</ol>
<h2 id="使用HMR"><a href="#使用HMR" class="headerlink" title="使用HMR"></a>使用HMR</h2><ol>
<li>webpack生态下，只需要经过简单的配置即可启动HMR功能<ul>
<li>配置devServer.hot属性为true</li>
<li>调用module.hot.accept接口 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> component <span class="keyword">from</span><span class="string">&quot;./component&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> demoComponent = <span class="title function_">component</span>();</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(demoComponent);</span><br><span class="line"><span class="comment">// HMR interface</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">module</span>.<span class="property">hot</span>) &#123; </span><br><span class="line"> <span class="comment">// Capture hot update</span></span><br><span class="line"> <span class="variable language_">module</span>.<span class="property">hot</span>.<span class="title function_">accept</span>(<span class="string">&quot;./component&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">const</span> nextComponent = <span class="title function_">component</span>();</span><br><span class="line">     <span class="comment">// Replace old content with the hot loaded one </span></span><br><span class="line">     <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">replaceChild</span>(nextComponent, demoComponent); </span><br><span class="line">     demoComponent = nextComponent;</span><br><span class="line"></span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>模块代码的替换逻辑可能非常复杂，幸运的是我们通常不太需要对此过多关注，因为业界许多 Webpack Loader 已经提供了针对不同资源的 HMR 功能<ul>
<li>style-loader</li>
<li>vue-loader</li>
<li>rect-hot-reload</li>
</ul>
</li>
<li>站在使用的角度，只需要针对不同资源配置对应支持 HMR 的 Loader 即可，很容易上手</li>
</ol>
<h2 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h2><ol>
<li>使用webpack-dev-server托管静态资源，同时以runtime方式注入HMR客户端代码</li>
<li>浏览器加载页面后，与WDS建立websocket连接</li>
<li>webpack监听到文件的变化后，增量构建发生变化的模块，并通过websocket发送hash事件</li>
<li>浏览器接收到hash事件后，请求manifest资源文件，确认增量变更范围</li>
<li>浏览器加载发生变更的增量模块</li>
<li>webpack运行时触发变更模块的module.hot.accept回调，执行代码变更逻辑</li>
<li>done</li>
</ol>
<h2 id="manifest"><a href="#manifest" class="headerlink" title="manifest"></a>manifest</h2><p>它包含三个主要变量，modules、installedModules和installedChunks。</p>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ol>
<li><p>modules对象保存的是所有的模块函数。模块函数是webpack处理的基本单位，对应打包前的一个文件，形式为function(module, webpack_exports, webpack_require) {…}。所有的模块函数的索引值是连续编码的，如果第一个bundle里的模块函数的索引是0-7，第二个bundle里的模块函数的索引就从8开始，从而保证索引和模块函数一一对应。</p>
</li>
<li><p>installedModules对象保存的是模块对象。模块对象是运行模块函数得到的对象，是标准的Commonjs对象，其属性主要有模块id和exports对象。webpack的运行就是指执行模块函数得到模块对象的过程。</p>
</li>
<li><p>installedChunks保存的是异步加载对象的promise信息，结构为[resolve, reject, promise]。主要是用来标记异步加载模块。用promise便于异步加载模块的全局管理，如果加载超时就可以抛出js异常。</p>
</li>
</ol>
<p>包括三个主要函数webpackJsonpCallback，webpack_require和webpack_require.e</p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ol>
<li><p>webpackJsonpCallback(chunkIds, moreModules, executeModules){…}是bundle文件的包裹函数。bundle文件被加载后就会运行这个函数。函数的三个参数分别对应三种模块。chunkIds指的是需要单独加载的模块的id，对应installedChunks；executeModules指的是需要立即执行的模块函数的id，对应modules，一般是入口文件对应的模块函数的id；moreModules包括该bundle打包的所有模块函数。webpackJsonpCallback先把模块函数存到modules对象中；然后处理chunkIds，调用resolve来改变promise的状态；最后处理executeModules，把对应的模块函数转化成模块对象。</p>
</li>
<li><p>webpack_require(moduleId)通过运行modules里的模块函数来得到模块对象，并保存到installedModules对象中。</p>
</li>
<li><p>webpack_require.e(chunkId)通过建立promise对象来跟踪按需加载模块的加载状态，并设置超时阙值，如果加载超时就抛出js异常。如果不需要处理加载超时异常的话，就不需要这个函数和installedChunks对象，可以把按需加载模块当作普通模块来处理。</p>
</li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/fan2016434589/article/details/124405499">https://blog.csdn.net/fan2016434589/article/details/124405499</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/02/JavaScript/typeScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/02/JavaScript/typeScript/" class="post-title-link" itemprop="url">typeScript</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-07-02 18:26:32" itemprop="dateCreated datePublished" datetime="2022-07-02T18:26:32+08:00">2022-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-21 09:22:51" itemprop="dateModified" datetime="2022-08-21T09:22:51+08:00">2022-08-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="typeScript"><a href="#typeScript" class="headerlink" title="typeScript"></a>typeScript</h1><ol>
<li>是微软开发的一种静态的编程语言，它是 JavaScript 的超集</li>
<li>所有js 代码都可以在 ts 里面运行</li>
<li>ts 支持类型支持，ts &#x3D; type +JavaScript</li>
<li>ts 和 js 有什么区别<ul>
<li>js属于动态编程语言（边解释边执行），ts属于静态编程语言（先编译再执行，在写的时候就会发现错误，ts不能直接执行，需要先编译成js）</li>
<li>ts完全支持js，可以直接转化</li>
</ul>
</li>
</ol>
<h2 id="类型注解"><a href="#类型注解" class="headerlink" title="类型注解"></a>类型注解</h2><ol>
<li>给变量添加类型约束，可以显示标记出代码中的意外行为，从而降低了发生错误的可能性</li>
</ol>
<h3 id="ts类型"><a href="#ts类型" class="headerlink" title="ts类型"></a>ts类型</h3><ol>
<li>常用基础类型<ul>
<li>number&#x2F;string&#x2F;boolean&#x2F;null&#x2F;undefined&#x2F;symbol</li>
<li>object</li>
</ul>
</li>
<li>新增类型<ul>
<li>联合类型（以 |  分隔，类型满足一个就可以）</li>
<li>自定义类型（类型别名，<code>type 别名 = 类型</code>）</li>
<li>接口</li>
<li>元组</li>
<li>字面量类型</li>
<li>枚举</li>
<li>void</li>
<li>any</li>
</ul>
</li>
</ol>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><ol>
<li>函数涉及的类型实际上指的是：函数参数和返回值的类型</li>
</ol>
  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 普通函数</span></span><br><span class="line"><span class="keyword">function</span> 函数名(形参<span class="number">1</span>： 类型=默认值， 形参<span class="number">2</span>：类型=默认值,...): 返回值类型 &#123; &#125;</span><br><span class="line"><span class="comment">// 声明式实际写法:</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"><span class="attr">num1</span>: <span class="built_in">number</span>, <span class="attr">num2</span>: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 箭头函数</span></span><br><span class="line"><span class="keyword">const</span> 函数名（形参<span class="number">1</span>： 类型=默认值， 形参<span class="number">2</span>：类型=默认值, ...):返回值类型 =&gt; &#123; &#125;</span><br><span class="line"><span class="keyword">const</span> add2 = (<span class="attr">a</span>: <span class="built_in">number</span> =<span class="number">100</span>, <span class="attr">b</span>: <span class="built_in">number</span> = <span class="number">100</span>): <span class="function"><span class="params">number</span> =&gt;</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> a + b</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">// 注意： 箭头函数的返回值类型要写在参数小括号的后面</span></span><br><span class="line">add（<span class="number">1</span>,<span class="string">&#x27;1&#x27;</span>) <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>
<h3 id="统一定义函数格式"><a href="#统一定义函数格式" class="headerlink" title="统一定义函数格式"></a>统一定义函数格式</h3><p> 当函数的类型一致时，写多个就会显得代码冗余，所以需要统一定义函数的格式<br>   <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">const</span> add2 = (<span class="attr">a</span>: <span class="built_in">number</span> =<span class="number">100</span>, <span class="attr">b</span>: <span class="built_in">number</span> = <span class="number">100</span>): <span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add1</span> (<span class="params"><span class="attr">a</span>:<span class="built_in">number</span> = <span class="number">100</span> , <span class="attr">b</span>: <span class="built_in">number</span> = <span class="number">200</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">// 这里的 add1 和 add2 的参数类型和返回值一致，</span></span><br><span class="line"><span class="comment">// 那么就可以统一定义一个函数类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Fn</span> = <span class="function">(<span class="params"><span class="attr">n1</span>:<span class="built_in">number</span>,<span class="attr">n2</span>:<span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> </span><br><span class="line"><span class="keyword">const</span> add3 : <span class="title class_">Fn</span> = <span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;<span class="keyword">return</span> a+b &#125;</span><br><span class="line"><span class="comment">// 这样书写起来就简单多啦</span></span><br></pre></td></tr></table></figure></p>
<h3 id="函数返回值类型void"><a href="#函数返回值类型void" class="headerlink" title="函数返回值类型void"></a>函数返回值类型void</h3><ol>
<li>如果一个函数没有返回值，应该使用void类型</li>
<li>有以下几种情况<ul>
<li>函数没写return</li>
<li>只写了return，没有具体的返回值</li>
<li>return的是undefined <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果什么都不写，此时，add 函数的返回值类型为： void</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果return之后什么都不写，此时，add 函数的返回值类型为： void</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> add = (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 此处，返回的 undefined 是 JS 中的一个值</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 这种写法是明确指定函数返回值类型为 void，与上面不指定返回值类型相同</span></span><br><span class="line"><span class="keyword">const</span> add = (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h3 id="函数–可选参数"><a href="#函数–可选参数" class="headerlink" title="函数–可选参数"></a>函数–可选参数</h3><ol>
<li>使用函数实现某个功能时，参数可以传也可以不传。</li>
<li>可选参数和默认值<ul>
<li>调用函数时，可以少传参数</li>
<li>设置了默认值之后，就是可选的了，不写就会使用默认值； 可选的参数一定有值</li>
<li>它们不能一起使用。优先使用默认值  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">可选参数：在可选参数名的后面添加 ?（问号）</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">slice</span> (<span class="params"><span class="attr">a</span>?: <span class="built_in">number</span>, <span class="attr">b</span>?: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="comment">// ? 跟在参数名字的后面，表示可选的参数</span></span><br><span class="line">    <span class="comment">// 注意：可选参数只能在 必须参数的后面</span></span><br><span class="line">    <span class="comment">// 如果可选参数在必选参数的前面，会报错</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">slice</span>()</span><br><span class="line">  <span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line">  <span class="title function_">slice</span>(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="对象类型–单独使用"><a href="#对象类型–单独使用" class="headerlink" title="对象类型–单独使用"></a>对象类型–单独使用</h3>  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> 对象名: &#123;</span><br><span class="line">  属性名<span class="number">1</span>：类型<span class="number">1</span>，</span><br><span class="line">  属性名<span class="number">2</span>?：类型<span class="number">2</span>，</span><br><span class="line">  方法名<span class="number">1</span>(形参<span class="number">1</span>: 类型<span class="number">1</span>，形参<span class="number">2</span>: 类型<span class="number">2</span>)： 返回值类型,</span><br><span class="line">  方法名<span class="number">2</span>:<span class="function">(<span class="params">形参<span class="number">1</span>: 类型<span class="number">1</span>，形参<span class="number">2</span>: 类型<span class="number">2</span></span>) =&gt;</span> 返回值类型</span><br><span class="line">&#125; = &#123; 属性名<span class="number">1</span>: 值<span class="number">1</span>，属性名<span class="number">2</span>：值<span class="number">2</span>  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="对象类型————类型别名"><a href="#对象类型————类型别名" class="headerlink" title="对象类型————类型别名"></a>对象类型————类型别名</h3>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建类型别名</span></span><br><span class="line">type <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: string，</span><br><span class="line">  <span class="attr">age</span>: number</span><br><span class="line">  <span class="title function_">sayHi</span>(): <span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用类型别名作为对象的类型：</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">person</span>: <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;小花&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><ol>
<li>当一个对象类型被多次使用时，有如下两种方式来来描述对象的类型，以达到复用的目的：<ul>
<li>类型别名 type</li>
<li>接口 interface</li>
</ul>
</li>
<li>接口和类型 的区别 interface（接口）和 type（类型别名）的对比<ul>
<li>借口只能给对象指定类型，并且可以继承</li>
<li>类型别名，不仅可以为对象指定类型，实际上可以为任意类型指定别名</li>
</ul>
</li>
</ol>
  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// 接口的写法-------------</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1：<span class="title class_">IPerson</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type的写法-------------</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span>  = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> user2：<span class="title class_">Person</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">interface</span> 接口名  &#123;属性<span class="number">1</span>: 类型<span class="number">1</span>, 属性<span class="number">2</span>: 类型<span class="number">2</span>&#125;</span><br><span class="line"><span class="comment">// 这里用 interface 关键字来声明接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IGoodItem</span>  &#123;</span><br><span class="line">    <span class="comment">// 接口名称(比如，此处的 IPerson)，可以是任意合法的变量名称，推荐以 `I` 开头</span></span><br><span class="line">   <span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">price</span>: <span class="built_in">number</span>, <span class="attr">func</span>: <span class="function">()=&gt;</span><span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明接口后，直接使用接口名称作为变量的类型</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">good1</span>: <span class="title class_">IGoodItem</span> = &#123;</span><br><span class="line">   <span class="attr">name</span>: <span class="string">&#x27;手表&#x27;</span>,</span><br><span class="line">   <span class="attr">price</span>: <span class="number">200</span>,</span><br><span class="line">   <span class="attr">func</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&#x27;看时间&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">good2</span>: <span class="title class_">IGoodItem</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;手机&#x27;</span>,</span><br><span class="line">    <span class="attr">price</span>: <span class="number">2000</span>,</span><br><span class="line">    <span class="attr">func</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;打电话&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="接口继承"><a href="#接口继承" class="headerlink" title="接口继承"></a>接口继承</h3><p>如果两个接口之间有相同的属性或方法，可以将公共的属性或方法抽离出来，通过继承来实现复用<br>  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> 接口2 <span class="keyword">extends</span> 接口1 &#123;</span><br><span class="line"> 属性<span class="number">1</span>： 类型<span class="number">1</span>， <span class="comment">// 接口2中特有的类型 </span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> a &#123; <span class="attr">x</span>: <span class="built_in">number</span>; <span class="attr">y</span>: <span class="built_in">number</span> &#125;</span><br><span class="line"><span class="comment">// 继承 a</span></span><br><span class="line"><span class="comment">// 使用 extends(继承)关键字实现了接口</span></span><br><span class="line"><span class="keyword">interface</span> b <span class="keyword">extends</span> a &#123;</span><br><span class="line">  <span class="attr">z</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 继承后，b 就有了 a 的所有属性和方法(此时，b 同时有 x、y、z 三个属性)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><p>元组是一种特殊的数组，约定了元素个数，约定了特定索引对应的数据类型</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/23/%E5%89%8D%E7%AB%AF%E9%89%B4%E6%9D%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/23/%E5%89%8D%E7%AB%AF%E9%89%B4%E6%9D%83/" class="post-title-link" itemprop="url">前端鉴权</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-06-23 17:05:29" itemprop="dateCreated datePublished" datetime="2022-06-23T17:05:29+08:00">2022-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-06-25 22:05:28" itemprop="dateModified" datetime="2022-06-25T22:05:28+08:00">2022-06-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="产生原因"><a href="#产生原因" class="headerlink" title="产生原因"></a>产生原因</h1><ol>
<li>HTTP是无状态的。也就是说，HTTP请求方和响应方间无法维持状态，都是一次性的，不知道前后的请求都发生了什么</li>
<li>但是很多情况需要用户登录之后再进行，所以需要判断用户的登录状态</li>
</ol>
<h1 id="COOKIE"><a href="#COOKIE" class="headerlink" title="COOKIE"></a>COOKIE</h1><h1 id="session"><a href="#session" class="headerlink" title="session"></a>session</h1><h2 id="登录验证流程"><a href="#登录验证流程" class="headerlink" title="登录验证流程"></a>登录验证流程</h2><ol>
<li>浏览器登录发送账号密码。服务端查用户库，校验用户</li>
<li>服务端把用户登录状态存为session，生成一个sessionId</li>
<li>通过登录接口返回，把sessionId set到cookie上</li>
<li>此后浏览器再请求业务接口，sessionId随cookie带上</li>
<li>服务端查sessionId校验session</li>
<li>成功后正常做业务处理</li>
</ol>
<h2 id="session的存储方式"><a href="#session的存储方式" class="headerlink" title="session的存储方式"></a>session的存储方式</h2><ol>
<li>redis：内存型数据库，以key-value形式存储</li>
<li>内存：直接放到变量里，一旦服务重启就没了</li>
<li>数据库：性能不高</li>
</ol>
<h2 id="session的过期和销毁"><a href="#session的过期和销毁" class="headerlink" title="session的过期和销毁"></a>session的过期和销毁</h2><p>只要把存储的session数据销毁就可以</p>
<h1 id="token"><a href="#token" class="headerlink" title="token"></a>token</h1><h2 id="登录验证流程-1"><a href="#登录验证流程-1" class="headerlink" title="登录验证流程"></a>登录验证流程</h2><ol>
<li>用户登录，服务端校验账号密码，获得用户信息</li>
<li>把用户信息、token 配置编码成 token，通过 cookie set 到浏览器</li>
<li>此后用户请求业务接口，通过 cookie 携带 token</li>
<li>接口校验 token 有效性，进行正常业务接口处理</li>
</ol>
<h2 id="客户端token的存储方式"><a href="#客户端token的存储方式" class="headerlink" title="客户端token的存储方式"></a>客户端token的存储方式</h2><ol>
<li>token 因为它的「无状态性」，有效期、使用限制都包在 token 内容里，对 cookie 的管理能力依赖较小，客户端存起来就显得更自由。</li>
</ol>
<h2 id="token的编码"><a href="#token的编码" class="headerlink" title="token的编码"></a>token的编码</h2><ol>
<li>base64</li>
<li>防篡改<ul>
<li>加签名</li>
</ul>
</li>
<li>jwt<ul>
<li>类型&#x2F;加密算法的选项 {“alg”:”HS256”,”typ”:”JWT”}</li>
<li>自定义携带数据&#x2F;JWT标准数据 {“userId”:”a”,”iat”:1551951998}</li>
<li>签名</li>
</ul>
</li>
</ol>
<h1 id="待完善"><a href="#待完善" class="headerlink" title="待完善"></a>待完善</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/16/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/16/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">浏览器兼容性问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-06-16 10:10:58 / Modified: 14:19:42" itemprop="dateCreated datePublished" datetime="2022-06-16T10:10:58+08:00">2022-06-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="JavaScript兼容"><a href="#JavaScript兼容" class="headerlink" title="JavaScript兼容"></a>JavaScript兼容</h1><ol>
<li>addEventListener 与 attachEvent 区别<ul>
<li>attachEvent ——兼容：IE7、IE8；不兼容firefox、chrome、IE9、IE10、IE11、safari、opera。</li>
<li>addEventListener——兼容：firefox、chrome、IE、safari、opera；不兼容IE7、IE8</li>
</ul>
</li>
</ol>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addEvent</span>(<span class="params">elm, evType, fn, useCapture</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (elm.<span class="property">addEventListener</span>) &#123; <span class="comment">// W3C标准</span></span><br><span class="line">    elm.<span class="title function_">addEventListener</span>(evType, fn, useCapture);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (elm.<span class="property">attachEvent</span>) &#123; <span class="comment">// IE</span></span><br><span class="line">    <span class="keyword">var</span> r = elm.<span class="title function_">attachEvent</span>(<span class="string">&#x27;on&#x27;</span> + evType, fn); <span class="comment">// IE5+</span></span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    elm[<span class="string">&#x27;on&#x27;</span> + evType] = fn; <span class="comment">// DOM事件</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>const 问题<ul>
<li>Firefox下，可以使用 const 关键字或 var 关键字来定义常量；IE下，只能使用 var 关键字来定义常量。</li>
<li>使用babel</li>
</ul>
</li>
<li>window.location.href 问题<ul>
<li>IE或者Firefox2.0.x下，可以使用 window.location 或 window.location.href；Firefox1.5.x下，只能使用 window.location。</li>
<li>使用 window.location 来代替 window.location.href 。当然也可以考虑使用 location.replace()方法</li>
</ul>
</li>
<li>访问的父元素的区别<ul>
<li>在IE下，使用 obj.parentElement 或 obj.parentNode  访问 obj 的父结点；在FireFox下，使用obj.parentNode 访问 obj 的父结点。</li>
<li>因为FireFox与IE都支持DOM，因此统一使用 obj.parentNode 来访问 obj 的父结点</li>
</ul>
</li>
<li>对象宽高赋值问题<ul>
<li>FireFox中类似 <code>obj.style.height = imgObj.height</code> 的语句无效。</li>
<li>统一使用<code>obj.style.height = imgObj.height + &quot;px&quot;</code>;</li>
</ul>
</li>
<li>阻止事件冒泡  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span> (e &amp;&amp; e.<span class="property">stopPropagation</span>) &#123;</span><br><span class="line">    e.<span class="title function_">stopPropagation</span>()</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">event</span>.<span class="property">cancelBubble</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>阻止默认行为 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span> (e &amp;&amp; e.<span class="property">stopPropagation</span>) &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>()</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">event</span>.<span class="property">returnValue</span> = <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="css兼容"><a href="#css兼容" class="headerlink" title="css兼容"></a>css兼容</h1><ol>
<li>去除浮动  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Clear Fix */</span></span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;.&quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Hide from IE Mac \*/</span></span><br><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* End hide from IE Mac */</span></span><br><span class="line"><span class="comment">/* end of clearfix */</span></span><br></pre></td></tr></table></figure></li>
<li>不同浏览器的标签默认margin 和 padding 不同<ul>
<li><code> *&#123;margin: 0;padding:0;&#125;</code></li>
</ul>
</li>
<li>opacity是css3里的属性，只有部分浏览器兼容 <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//使用各个浏览器的私有属性以支持<span class="attribute">opacity</span></span><br><span class="line"><span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">50</span>);<span class="comment">/*IE*/</span></span><br><span class="line">-moz-<span class="attribute">opacity</span>: <span class="number">0.5</span>;<span class="comment">/*老版Mozilla*/</span></span><br><span class="line">-khtml-<span class="attribute">opacity</span>: <span class="number">0.5</span>;<span class="comment">/*老版Safari*/</span> </span><br><span class="line"><span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="待补充…"><a href="#待补充…" class="headerlink" title="待补充…"></a>待补充…</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/15/vue/vue%E5%8E%9F%E7%90%86/vue%E5%8E%9F%E7%90%86%E7%AF%87%E2%80%94%E2%80%94-set%E5%8E%9F%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/15/vue/vue%E5%8E%9F%E7%90%86/vue%E5%8E%9F%E7%90%86%E7%AF%87%E2%80%94%E2%80%94-set%E5%8E%9F%E7%90%86/" class="post-title-link" itemprop="url">vue原理篇——$set原理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-06-15 20:32:44" itemprop="dateCreated datePublished" datetime="2022-06-15T20:32:44+08:00">2022-06-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-21 09:22:51" itemprop="dateModified" datetime="2022-08-21T09:22:51+08:00">2022-08-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue/" itemprop="url" rel="index"><span itemprop="name">vue</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="set"><a href="#set" class="headerlink" title="$set"></a>$set</h1><ol>
<li>vue2中的响应式原理无法对arr[i]以及对象的增删进行监控，需要想办法使得这些处理方法具有响应式，官方提供了vue.$set这种处理方法</li>
<li>set接收三个参数<code>当前目标对象、key值、要修改为的值</code></li>
<li>处理的时候，先判断目标对象是数组还是对象</li>
<li>数组就使用splice方法来改变原数组</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">set</span> (<span class="params">target: <span class="built_in">Array</span>&lt;any&gt; | <span class="built_in">Object</span>, key: any, val: any</span>): any &#123;</span><br><span class="line">  <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&#x27;production&#x27;</span> &amp;&amp;</span><br><span class="line">    (<span class="title function_">isUndef</span>(target) || <span class="title function_">isPrimitive</span>(target))</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="title function_">warn</span>(<span class="string">`Cannot set reactive property on undefined, null, or primitive value: <span class="subst">$&#123;(target: any)&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 数组</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(target) &amp;&amp; <span class="title function_">isValidArrayIndex</span>(key)) &#123;</span><br><span class="line">    target.<span class="property">length</span> = <span class="title class_">Math</span>.<span class="title function_">max</span>(target.<span class="property">length</span>, key)</span><br><span class="line">    target.<span class="title function_">splice</span>(key, <span class="number">1</span>, val)</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 对象</span></span><br><span class="line">  <span class="keyword">if</span> (key <span class="keyword">in</span> target &amp;&amp; !(key <span class="keyword">in</span> <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>)) &#123;</span><br><span class="line">    target[key] = val</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> ob = (<span class="attr">target</span>: any).<span class="property">__ob__</span></span><br><span class="line">  <span class="keyword">if</span> (target.<span class="property">_isVue</span> || (ob &amp;&amp; ob.<span class="property">vmCount</span>)) &#123;</span><br><span class="line">    process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&#x27;production&#x27;</span> &amp;&amp; <span class="title function_">warn</span>(</span><br><span class="line">      <span class="string">&#x27;Avoid adding reactive properties to a Vue instance or its root $data &#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;at runtime - declare it upfront in the data option.&#x27;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!ob) &#123;</span><br><span class="line">    target[key] = val</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">defineReactive</span>(ob.<span class="property">value</span>, key, val)</span><br><span class="line">  ob.<span class="property">dep</span>.<span class="title function_">notify</span>()</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">109</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
